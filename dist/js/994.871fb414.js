"use strict";(self["webpackChunksuduku_game"]=self["webpackChunksuduku_game"]||[]).push([[994],{1994:function(e,l,n){n.r(l),n.d(l,{default:function(){return Y}});n(7658);var t=n(3396),a=n(4870),s=n(7139),o=n(3419);const u={class:"text-center mb-2"};var i=(0,t.aZ)({__name:"TimerBox",props:{startTime:null,finishTime:null},setup(e){const l=e;let n=-1;const i=(0,a.iH)(0),c=()=>{l.startTime&&(i.value=((l.finishTime||Date.now())-l.startTime)/1e3,i.value=Math.floor(i.value))};return(0,t.wF)((()=>{c(),l.finishTime||(n=setInterval((()=>c()),1e3))})),(0,t.Jd)((()=>{clearInterval(n)})),(e,l)=>((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("b",null,(0,s.zw)((0,a.SU)(o.TD)(i.value)),1)]))}});const c=i;var r=c,m=n(6771);const v={class:"table__content"};var d=(0,t.aZ)({__name:"MatrixTable",props:{values:{default:()=>[]},disabled:{type:Boolean}},setup(e){const l=e;return(e,n)=>((0,t.wg)(),(0,t.iD)("table",{class:(0,s.C_)(["table",{"table--disabled":l.disabled}])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.values,((l,n)=>((0,t.wg)(),(0,t.iD)("tr",{key:n},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l,((l,a)=>((0,t.wg)(),(0,t.iD)("td",{key:a},[(0,t._)("div",v,[(0,t.WI)(e.$slots,"column",{column:l,rowIndex:n,colIndex:a})])])))),128))])))),128))],2))}}),p=n(89);const w=(0,p.Z)(d,[["__scopeId","data-v-1d00e773"]]);var b=w,g=n(1826),f=n(2483),h=n(6388),S=n(5658);const _={class:"text-3xl font-bold text-center mb-1"},x={class:"text-sm text-center mb-4"};var k=(0,t.aZ)({__name:"FinishDialog",setup(e){const l=(0,f.tv)(),n=(0,f.yj)(),o=(0,t.f3)("dialogRef"),{t:u}=(0,S.QT)(),i=()=>{l.push({name:"Level",params:{level:n.params.level}})},c=()=>{l.push({name:"Home"})},r=e=>{"Home"===e&&c(),"Level"===e&&i(),o.value.close(),(0,h.Z)("popupCloseSound")};return(0,t.bv)((()=>{(0,h.Z)("finishSound")})),(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",_,(0,s.zw)((0,a.SU)(u)("finishDialog.title")),1),(0,t._)("div",x,(0,s.zw)((0,a.SU)(u)("finishDialog.subtitle")),1),(0,t.Wm)((0,a.SU)(g.Z),{label:(0,a.SU)(u)("finishDialog.buttons.level"),class:"p-button-sm p-2 w-full mb-2",onClick:l[0]||(l[0]=e=>r("Level"))},null,8,["label"]),(0,t.Wm)((0,a.SU)(g.Z),{label:(0,a.SU)(u)("finishDialog.buttons.home"),class:"p-button-sm p-2 w-full",onClick:l[1]||(l[1]=e=>r("Home"))},null,8,["label"])],64))}});const D=k;var U=D;const y={class:"select-numbers grid"},T=["onClick"];var I=(0,t.aZ)({__name:"SelectNumbers",props:{matrix:null,showClear:{type:Boolean}},emits:["selected"],setup(e,{emit:l}){const n=e,{t:s}=(0,S.QT)();let o=!1;const u=(0,t.Fl)((()=>Array(n.matrix.length).fill(0).map(((e,l)=>l+1))));(0,t.bv)((()=>{(0,h.Z)("popupOpenSound")})),(0,t.Jd)((()=>{o||(0,h.Z)("popupCloseSound")}));const i=(e,n)=>{(null===n||n)&&(o=!0),l("selected",{$event:e,num:n}),(0,h.Z)("selectSound")};return(e,l)=>((0,t.wg)(),(0,t.iD)("div",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,a.SU)(u),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e,class:"flex-grow-1 p-1 col-4",onClick:l=>i(l,e),onKeypress:l[0]||(l[0]=()=>{})},[(0,t.Wm)((0,a.SU)(g.Z),{label:String(e),class:"p-button-sm p-button-outlined p-button-secondary w-full"},null,8,["label"])],40,T)))),128)),n.showClear?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"flex-grow-1 p-1 col-12",onClick:l[1]||(l[1]=e=>i(e,null)),onKeypress:l[2]||(l[2]=()=>{})},[(0,t.Wm)((0,a.SU)(g.Z),{label:(0,a.SU)(s)("numbers.clear"),class:"p-button-sm p-button-outlined p-button-secondary w-full"},null,8,["label"])],32)):(0,t.kq)("",!0)]))}});const Z=I;var C=Z,H=n(1435),W=n(1784),R=n(65);const E={key:0,class:"column"},F=["onClick"];var K=(0,t.aZ)({__name:"GameView",props:{level:null,id:null},setup(e){const l=e,n=(0,W.R)(),u=(0,f.tv)(),i=(0,R.oR)(),c=(0,a.iH)(),v=(0,a.iH)({rowIndex:-1,colIndex:-1,column:null}),d=()=>{v.value.colIndex=-1,v.value.rowIndex=-1,v.value.column=null},p=e=>{c.value.toggle(e)},w=(e,l)=>{p(e),v.value=l},g=({$event:e,num:n})=>{e&&p(e),i.commit("SET_MATRIX_NUMBER",{id:+l.id,level:l.level,data:{...v.value},num:n}),d()},h=(0,t.Fl)((()=>i.getters.getGame(l.level,+l.id))),S=(0,t.Fl)((()=>h.value?.matrix)),_=async()=>{i.commit("FINISH_GAME",{level:l.level,id:+l.id}),await(0,o.gw)(1500),n.open(U,{props:{breakpoints:{"100vw":"var(--game-container-width)"},closable:!1,modal:!0}})};return(0,t.YP)((()=>S.value),(()=>{(0,o.vy)(S.value)&&_()}),{deep:!0}),(0,t.bv)((()=>{h.value?h.value.startTime||(h.value.opened?i.dispatch("REQUEST_START_GAME",{level:l.level,id:+l.id}):u.push({name:"Level",params:{level:l.level}})):u.push({name:"Levels"})})),(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(m.Z,null,{default:(0,t.w5)((()=>[(0,a.SU)(h)?((0,t.wg)(),(0,t.j4)(r,{key:0,"start-time":(0,a.SU)(h).startTime,"finish-time":(0,a.SU)(h).finishTime},null,8,["start-time","finish-time"])):(0,t.kq)("",!0),(0,a.SU)(S)?.length?((0,t.wg)(),(0,t.j4)(b,{key:1,values:(0,a.SU)(S),disabled:!!(0,a.SU)(h).finishTime},{column:(0,t.w5)((({rowIndex:e,colIndex:n,column:a})=>[a.show?((0,t.wg)(),(0,t.iD)("div",E,(0,s.zw)(a.num),1)):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,s.C_)(["column column--invisible",{"column--selected":v.value.rowIndex===e&&v.value.colIndex===n}]),onClick:l=>w(l,{rowIndex:e,colIndex:n,column:a}),onKeypress:l[0]||(l[0]=()=>{})},(0,s.zw)(a.user),43,F))])),_:1},8,["values","disabled"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)((0,a.SU)(H.Z),{ref_key:"op",ref:c,"show-close-icon":!0,onHide:d},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{matrix:(0,a.SU)(S),"show-clear":!(!v.value.column||!v.value.column.user),onSelected:l[1]||(l[1]=e=>g(e))},null,8,["matrix","show-clear"])])),_:1},512)],64))}});const M=K;var Y=M}}]);
//# sourceMappingURL=994.871fb414.js.map